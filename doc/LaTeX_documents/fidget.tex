\ProvidesFile{fidget.tex}[v1.0.1]
\startObject{\objNameS{fidget}}{fidget}
\index{Themes!Device~interface!fidget}
\objPicture{fidgetsymbol.ps}
\objItemDescription{\objNameD{fidget} provides an interface to \emph{Phidgets}\textregistered{} -- physical widgets,
available from \companyReference{http://www.phidgets.com}{Phidgets Incorporated}.
The \objNameX{fidget} object uses a folder named `Phidgets', located in the same folder as the \MaxName{} program,
to provide a collection of `plugins' for device-specific behaviours.}

\objItemCreated{November 2003}

\objItemVersion{1.0.1}

\objItemHelp{no}

\objItemTheme{Device interface}

\objItemClass{Devices}

\objItemArgs{none}

\objItemInlet{\ }

  \objListIOBegin
  \objListIOItem{list}{the command input}
  \objListIOEnd

\objItemOutlet{\ }

  \objListIOBegin
  \objListIOItem{list}{the command response}

  \objListIOItem{integer}{the error code if an error was detected}

  \objListIOEnd

\objItemCompanion{see \pluginReference{Phidgets}{Phidgets} for the available `plugins'}

\objItemStandalone{yes}

\objItemRetainsState{no}

\objItemCompatibility{\MaxName{} 4.x \{OS 9 and OS X\}}

\objItemFat{PPC-only}

\objItemCommands[]

  \objListCmdBegin

  \objListCmdItem{do}{deviceType serialNumber\textnormal{/}* \textnormal{[}anything\textnormal{]}}
  Perform a device-specific operation for the specified phidget or all phidgets of the same type (if `*' is specified).
  The default behaviour is to do nothing.

  \objListCmdItem{get}{deviceType serialNumber\textnormal{/}* \textnormal{[}anything\textnormal{]}}
  Acquire data from the specified phidget or all phidgets of the same type (if `*' is specified).
  The default behaviour is to interpret the argument as an element number and to return the value(s) from that
  element in the form of a list, with the first two elements of the list consisting of the `deviceType' and
  the `serialNumber'.

  \objListCmdItem{listen}{\textnormal{[}on\textnormal{/}off\textnormal{]}}
  Start reporting phidget insertions and removals (`on') or stop reporting (`off').
  If no argument is given, reporting is reversed. 

  \objListCmdItem{put}{deviceType serialNumber\textnormal{/}* \textnormal{[}anything\textnormal{]}}
  Send data to the specified phidget or all phidgets of the same type (if `*' is specified).
  The default behaviour is to interpret the argument as an element number followed by the value(s) to be sent
  to the element.
  There is no expected output from the `put' command.

  \objListCmdItem{report}{\textnormal{[}deviceType \textnormal{[}serialNumber\textnormal{/}* \textnormal{[}element\textnormal{]]]}}
  If there are no arguments to the `report' command, return a list of all devices, in the form of the symbol `devices'
  followed by each device, as represented by its device type and serial number.
  If only the `deviceType' is specified, return a list of all devices with matching device types, in the form of the
  symbol `device' followed by the device type and the serial numbers of the matching devices.
  If the `deviceType' and `serialNumber' are specified, the elements of the matching device will be returned,
  in the form of a list with the symbol `elements' followed by a triple for each element,
  consisting of the element `cookie', the element type
  (`input-misc', `input-button', `input-axis', `input-scancodes', `output', `feature' or `collection') and the
  element size in bits.
  If `*' is specified instead of `serialNumber', `element' is ignored and all phidgets of the same type are reported in the
  form of a series of lists with the symbol `elements' followed by a triple for each element,
  consisting of the element `cookie', the element type
  (`input-misc', `input-button', `input-axis', `input-scancodes', `output', `feature' or `collection') and the
  element size in bits.
  If all three arguments are present, the specified element is returned as a list starting with the symbol
  `element' followed by the element type and size.
  Note that no output is returned if a match fails.

  \objListCmdItem{structure}{deviceType serialNumber\textnormal{/}*}
  Report the hierarchical structure of the specified phidget or all phidgets of the same type (if `*' is specified)
  to the \MaxName{} window.

  \objListCmdEnd

\objItemFile

\objItemMessage

\objItemComments[\objNameX{fidget} loads all available files from a folder named `Phidgets',
located in the same folder as the \MaxName{} program,
to provide a collection of `plugins' for device-specific behaviours.
Refer to \pluginName{Phidgets}{Phidgets} for a list of the currently available `plugins'.
Device serial numbers are prefixed with an underscore character (``\_'') to guarantee their interpretation as
symbols rather than numbers.
Note that at most one \objNameX{fidget} object can loaded into \MaxName{} due to the way that it
interacts with the Macintosh device routines.]

\objEnd{\objNameE{fidget}}
